{% extends "base.html" %}
{% block content %}



<h2 class="center-align">Admin</h2>

<div class="row">
    <div class="center-align">
        <a class="waves-effect waves-light btn light-btn" href="{{ url_for('edit_genre') }}">Edit Genre</a>
    </div>
</div>

<h2>All Books</h2>

<div class="row">

    {% for book in books %}



    <div class="col s12 m6 l4 xl3">
        <div class="card large center-align">
            <div class="card-content book-card-content">

                <!-- <div class="card-image"> -->
                <img src="{{ book.book_cover }}" class="book-card-img">
                <span class="card-title">{{ book.book_title|title() }}</span>
                <p>{{ book.book_author|title() }}</p>
                <p>{{ book.review_by }}</p>
                        <div class="card-action">
                <a class="waves-effect waves-light btn light-btn"
                    href="{{ url_for('admin_edit_book', book_id=book._id) }}">Edit</a>
                <a class="waves-effect waves-light btn modal-trigger dark-btn" href="#{{ book._id }}">Delete</a>
                 </div>
            </div>
        </div>
    </div>


    <div id="{{ book._id }}" class="modal delete-modal">
        <div class="modal-content">
            <h4>Are you sure you want to permanently delete '{{ book.book_title|title() }}'?</h4>
        </div>
        <div class="modal-footer delete-btn">
            <a class="btn waves-effect waves-light light-btn" href="{{ url_for('admin', username=session['user']) }}">Cancel</a>
            <a class="waves-effect waves-light btn dark-btn" href="{{ url_for('admin_delete_book', book_id=book._id) }}">Delete</a>
        </div>
    </div>


    {% endfor %}
</div>

<h2>Users</h2>

 <div class="row">


{% for user in users %}

    
   
    <div class="col s12 m4 l3">
      <div class="card card-style">
        <div class="card-content">
        <span class="card-title">{{ user.username|title() }}<br>
        {{ user.first_name|title() }}<br>
        {{ user.last_name|title() }}</span>
        <a class="waves-effect waves-light btn modal-trigger" href="{{ url_for('admin_edit_profile', user_id=user._id) }}">Edit</a>
        <a class="waves-effect waves-light btn modal-trigger" href="#{{ user._id }}">Delete</a>
        </div>
      </div>
    </div>
        <div id="{{ user._id }}" class="modal delete-modal">
        <div class="modal-content">
            <h4>Are you sure you want to permanently delete '{{ user.username|title() }}'?</h4>
        </div>
        <div class="modal-footer delete-btn">
            <a class="btn waves-effect waves-light light-btn" href="{{ url_for('admin', username=session['user']) }}">Cancel</a>
            <a class="waves-effect waves-light btn dark-btn" href="{{ url_for('admin_delete_user', user_id=user._id) }}">Delete</a>
        </div>
    </div>


{% endfor %}

</div>
{% endblock %}